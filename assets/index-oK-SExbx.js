import{r as Te,i as Ce,g as tt,a as nt,t as st,b as it,m as E,c as A,o as rt,d as R,f as ot,e as S,n as at,h as ut,j as Pe,k as lt,p as ct,l as dt,q as ht,v as ft,s as pt,K as xe,u as ie,w as re,B as mt,x as gt,y as vt,z as yt,A as Me,C as oe,D as I,E as ae,M as X,F as Vt,G as K,H as C,I as Fe,J as Ie,L as Oe,N as ue,O as Ee,P as bt,Q as St,R as wt,S as At,T as Tt,U as le,V as ce,W as Ct,X as Pt,Y as xt,Z as Mt,_ as Ft,$ as It,a0 as Ot,a1 as Et,a2 as Bt,a3 as Dt,a4 as Rt,a5 as Kt,a6 as Lt}from"./index-TGcUTcY-.js";function Z(n){let e;return()=>(e===void 0&&(e=n()),e)}function Be(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function L(n,e,t){const s=n.getProps();return Te(s,e,t!==void 0?t:s.custom,n)}const Nt=Z(()=>window.ScrollTimeline!==void 0);class Ut{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(i=>{if(Nt()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kt extends Ut{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function De(n,e){return n?n[e]||n.default||n:void 0}function de(n,e){n.timeline=e,n.onfinish=null}const Gt={linearEasing:void 0};function jt(n,e){const t=Z(n);return()=>{var s;return(s=Gt[e])!==null&&s!==void 0?s:t()}}const B=jt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Re(n){return!!(typeof n=="function"&&B()||!n||typeof n=="string"&&(n in W||B())||Ce(n)||Array.isArray(n)&&n.every(Re))}const M=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,W={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:M([0,.65,.55,1]),circOut:M([.55,0,1,.45]),backIn:M([.31,.01,.66,-.59]),backOut:M([.33,1.53,.69,.99])};function Ke(n,e){if(n)return typeof n=="function"&&B()?tt(n,e):Ce(n)?M(n):Array.isArray(n)?n.map(t=>Ke(t,e)||W.easeOut):W[n]}const _t={y:!1};function Ht(){return _t.y}function Le(n,e){const t=nt(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function he(n){return e=>{e.pointerType==="touch"||Ht()||n(e)}}function Wt(n,e,t={}){const[s,i,r]=Le(n,t),u=he(c=>{const{target:l}=c,o=e(c);if(typeof o!="function"||!l)return;const a=he(d=>{o(d),l.removeEventListener("pointerleave",a)});l.addEventListener("pointerleave",a,i)});return s.forEach(c=>{c.addEventListener("pointerenter",u,i)}),r}const Ne=(n,e)=>e?n===e?!0:Ne(n,e.parentElement):!1,zt=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$t=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qt(n){return $t.has(n.tagName)||n.tabIndex!==-1}const F=new WeakSet;function fe(n){return e=>{e.key==="Enter"&&n(e)}}function _(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yt=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=fe(()=>{if(F.has(t))return;_(t,"down");const i=fe(()=>{_(t,"up")}),r=()=>_(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function pe(n){return zt(n)&&!0}function Xt(n,e,t={}){const[s,i,r]=Le(n,t),u=c=>{const l=c.currentTarget;if(!pe(c)||F.has(l))return;F.add(l);const o=e(c),a=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!pe(f)||!F.has(l))&&(F.delete(l),typeof o=="function"&&o(f,{success:g}))},d=f=>{a(f,t.useGlobalTarget||Ne(l,f.target))},h=f=>{a(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return s.forEach(c=>{!qt(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",u,i),c.addEventListener("focus",o=>Yt(o,i),i)}),r}const Ue=new Set(["width","height","top","left","right","bottom",...st]);function Zt(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,E(t))}function Jt(n,e){const t=L(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const u in r){const c=it(r[u]);Zt(n,u,c)}}function Qt(n){return!!(A(n)&&n.add)}function en(n,e){const t=n.getValue("willChange");if(Qt(t))return t.add(e)}function tn(n){return n.props[rt]}const ke=n=>/^0[^.\s]+$/u.test(n);function nn(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ke(n):!0}const sn=new Set(["brightness","contrast","saturate","opacity"]);function rn(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(ot)||[];if(!s)return n;const i=t.replace(s,"");let r=sn.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const on=/\b([a-z-]*)\(.*?\)/gu,z={...R,getAnimatableNone:n=>{const e=n.match(on);return e?e.map(rn).join(" "):n}},an={...at,color:S,backgroundColor:S,outlineColor:S,fill:S,stroke:S,borderColor:S,borderTopColor:S,borderRightColor:S,borderBottomColor:S,borderLeftColor:S,filter:z,WebkitFilter:z},J=n=>an[n];function Ge(n,e){let t=J(n);return t!==z&&(t=R),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const un=new Set(["auto","none","0"]);function ln(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!un.has(r)&&ut(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=Ge(t,i)}const je=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),cn=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dn(n){const e=cn.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function _e(n,e,t=1){const[s,i]=dn(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const u=r.trim();return je(u)?parseFloat(u):u}return Pe(i)?_e(i,e,t+1):i}const He=n=>e=>e.test(n),hn={test:n=>n==="auto",parse:n=>n},We=[lt,ct,dt,ht,ft,pt,hn],me=n=>We.find(He(n));class ze extends xe{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let o=e[l];if(typeof o=="string"&&(o=o.trim(),Pe(o))){const a=_e(o,t.current);a!==void 0&&(e[l]=a),l===e.length-1&&(this.finalKeyframe=o)}}if(this.resolveNoneKeyframes(),!Ue.has(s)||e.length!==2)return;const[i,r]=e,u=me(i),c=me(r);if(u!==c)if(ie(u)&&ie(c))for(let l=0;l<e.length;l++){const o=e[l];typeof o=="string"&&(e[l]=parseFloat(o))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)nn(e[i])&&s.push(i);s.length&&ln(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=re[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const u=i.length-1,c=i[u];i[u]=re[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,o])=>{t.getValue(l).set(o)}),this.resolveNoneKeyframes()}}const fn=new Set(["opacity","clipPath","filter","transform"]);function pn(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:u="loop",ease:c="easeInOut",times:l}={}){const o={[e]:t};l&&(o.offset=l);const a=Ke(c,i);return Array.isArray(a)&&(o.easing=a),n.animate(o,{delay:s,duration:i,easing:Array.isArray(a)?"linear":a,fill:"both",iterations:r+1,direction:u==="reverse"?"alternate":"normal"})}const mn=Z(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),D=10,gn=2e4;function vn(n){return Vt(n.type)||n.type==="spring"||!Re(n.ease)}function yn(n,e){const t=new X({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const i=[];let r=0;for(;!s.done&&r<gn;)s=t.sample(r),i.push(s.value),r+=D;return{times:void 0,keyframes:i,duration:r-D,ease:"linear"}}const $e={anticipate:yt,backInOut:vt,circInOut:gt};function Vn(n){return n in $e}class ge extends mt{constructor(e){super(e);const{name:t,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new ze(r,(u,c)=>this.onKeyframesResolved(u,c),t,s,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:i,ease:r,type:u,motionValue:c,name:l,startTime:o}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof r=="string"&&B()&&Vn(r)&&(r=$e[r]),vn(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:g,...b}=this.options,v=yn(e,b);e=v.keyframes,e.length===1&&(e[1]=e[0]),s=v.duration,i=v.times,r=v.ease,u="keyframes"}const a=pn(c.owner.current,l,e,{...this.options,duration:s,times:i,ease:r});return a.startTime=o??this.calcStartTime(),this.pendingTimeline?(de(a,this.pendingTimeline),this.pendingTimeline=void 0):a.onfinish=()=>{const{onComplete:d}=this.options;c.set(Me(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:a,duration:s,times:i,type:u,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return oe(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return oe(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=I(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return ae;const{animation:s}=t;de(s,e)}return ae}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:i,type:r,ease:u,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:o,onUpdate:a,onComplete:d,element:h,...f}=this.options,g=new X({...f,keyframes:s,duration:i,type:r,ease:u,times:c,isGenerator:!0}),b=I(this.time);o.setWithVelocity(g.sample(b-D).value,g.sample(b).value,D)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:u,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:o}=t.owner.getProps();return mn()&&s&&fn.has(s)&&!l&&!o&&!i&&r!=="mirror"&&u!==0&&c!=="inertia"}}const bn={type:"spring",stiffness:500,damping:25,restSpeed:10},Sn=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),wn={type:"keyframes",duration:.8},An={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tn=(n,{keyframes:e})=>e.length>2?wn:K.has(n)?n.startsWith("scale")?Sn(e[1]):bn:An;function Cn({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:u,repeatDelay:c,from:l,elapsed:o,...a}){return!!Object.keys(a).length}const Pn=(n,e,t,s={},i,r)=>u=>{const c=De(s,n)||{},l=c.delay||s.delay||0;let{elapsed:o=0}=s;o=o-I(l);let a={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-o,onUpdate:h=>{e.set(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:r?void 0:i};Cn(c)||(a={...a,...Tn(n,a)}),a.duration&&(a.duration=I(a.duration)),a.repeatDelay&&(a.repeatDelay=I(a.repeatDelay)),a.from!==void 0&&(a.keyframes[0]=a.from);let d=!1;if((a.type===!1||a.duration===0&&!a.repeatDelay)&&(a.duration=0,a.delay===0&&(d=!0)),d&&!r&&e.get()!==void 0){const h=Me(a.keyframes,c);if(h!==void 0)return C.update(()=>{a.onUpdate(h),a.onComplete()}),new kt([])}return!r&&ge.supports(a)?new ge(a):new X(a)};function xn({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function qe(n,e,{delay:t=0,transitionOverride:s,type:i}={}){var r;let{transition:u=n.getDefaultTransition(),transitionEnd:c,...l}=e;s&&(u=s);const o=[],a=i&&n.animationState&&n.animationState.getState()[i];for(const d in l){const h=n.getValue(d,(r=n.latestValues[d])!==null&&r!==void 0?r:null),f=l[d];if(f===void 0||a&&xn(a,d))continue;const g={delay:t,...De(u||{},d)};let b=!1;if(window.MotionHandoffAnimation){const m=tn(n);if(m){const p=window.MotionHandoffAnimation(m,d,C);p!==null&&(g.startTime=p,b=!0)}}en(n,d),h.start(Pn(d,h,f,n.shouldReduceMotion&&Ue.has(d)?{type:!1}:g,n,b));const v=h.animation;v&&o.push(v)}return c&&Promise.all(o).then(()=>{C.update(()=>{c&&Jt(n,c)})}),o}function $(n,e,t={}){var s;const i=L(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const u=i?()=>Promise.all(qe(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(o=0)=>{const{delayChildren:a=0,staggerChildren:d,staggerDirection:h}=r;return Mn(n,e,a+o,d,h,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[o,a]=l==="beforeChildren"?[u,c]:[c,u];return o().then(()=>a())}else return Promise.all([u(),c(t.delay)])}function Mn(n,e,t=0,s=0,i=1,r){const u=[],c=(n.variantChildren.size-1)*s,l=i===1?(o=0)=>o*s:(o=0)=>c-o*s;return Array.from(n.variantChildren).sort(Fn).forEach((o,a)=>{o.notify("AnimationStart",e),u.push($(o,e,{...r,delay:t+l(a)}).then(()=>o.notify("AnimationComplete",e)))}),Promise.all(u)}function Fn(n,e){return n.sortNodePosition(e)}function In(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>$(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=$(n,e,t);else{const i=typeof e=="function"?L(n,e,t.custom):e;s=Promise.all(qe(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const On=Ie.length;function Ye(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Ye(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<On;t++){const s=Ie[t],i=n.props[s];(Fe(i)||i===!1)&&(e[s]=i)}return e}const En=[...Ee].reverse(),Bn=Ee.length;function Dn(n){return e=>Promise.all(e.map(({animation:t,options:s})=>In(n,t,s)))}function Rn(n){let e=Dn(n),t=ve(),s=!0;const i=l=>(o,a)=>{var d;const h=L(n,a,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:g,...b}=h;o={...o,...b,...g}}return o};function r(l){e=l(n)}function u(l){const{props:o}=n,a=Ye(n.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let v=0;v<Bn;v++){const m=En[v],p=t[m],V=o[m]!==void 0?o[m]:a[m],N=Fe(V),U=m===l?p.isActive:null;U===!1&&(g=v);let O=V===a[m]&&V!==o[m]&&N;if(O&&s&&n.manuallyAnimateOnMount&&(O=!1),p.protectedKeys={...f},!p.isActive&&U===null||!V&&!p.prevProp||Oe(V)||typeof V=="boolean")continue;const Q=Kn(p.prevProp,V);let k=Q||m===l&&p.isActive&&!O&&N||v>g&&N,ee=!1;const te=Array.isArray(V)?V:[V];let x=te.reduce(i(m),{});U===!1&&(x={});const{prevResolvedValues:ne={}}=p,et={...ne,...x},se=y=>{k=!0,h.has(y)&&(ee=!0,h.delete(y)),p.needsAnimating[y]=!0;const w=n.getValue(y);w&&(w.liveStyle=!1)};for(const y in et){const w=x[y],G=ne[y];if(f.hasOwnProperty(y))continue;let j=!1;ue(w)&&ue(G)?j=!Be(w,G):j=w!==G,j?w!=null?se(y):h.add(y):w!==void 0&&h.has(y)?se(y):p.protectedKeys[y]=!0}p.prevProp=V,p.prevResolvedValues=x,p.isActive&&(f={...f,...x}),s&&n.blockInitialAnimation&&(k=!1),k&&(!(O&&Q)||ee)&&d.push(...te.map(y=>({animation:y,options:{type:m}})))}if(h.size){const v={};h.forEach(m=>{const p=n.getBaseTarget(m),V=n.getValue(m);V&&(V.liveStyle=!0),v[m]=p??null}),d.push({animation:v})}let b=!!d.length;return s&&(o.initial===!1||o.initial===o.animate)&&!n.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(d):Promise.resolve()}function c(l,o){var a;if(t[l].isActive===o)return Promise.resolve();(a=n.variantChildren)===null||a===void 0||a.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,o)}),t[l].isActive=o;const d=u(l);for(const h in t)t[h].protectedKeys={};return d}return{animateChanges:u,setActive:c,setAnimateFunction:r,getState:()=>t,reset:()=>{t=ve(),s=!0}}}function Kn(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Be(e,n):!1}function T(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ve(){return{animate:T(!0),whileInView:T(),whileHover:T(),whileTap:T(),whileDrag:T(),whileFocus:T(),exit:T()}}class P{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ln extends P{constructor(e){super(e),e.animationState||(e.animationState=Rn(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oe(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Nn=0;class Un extends P{constructor(){super(...arguments),this.id=Nn++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kn={animation:{Feature:Ln},exit:{Feature:Un}};function ye(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Xe(n){return{point:{x:n.pageX,y:n.pageY}}}const Ve=()=>({min:0,max:0}),Ze=()=>({x:Ve(),y:Ve()});function Gn({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function jn(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function _n(n,e){return Gn(jn(n.getBoundingClientRect(),e))}function be(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&C.postRender(()=>r(e,Xe(e)))}class Hn extends P{mount(){const{current:e}=this.node;e&&(this.unmount=Wt(e,t=>(be(this.node,t,"Start"),s=>be(this.node,s,"End"))))}unmount(){}}class Wn extends P{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bt(ye(this.node.current,"focus",()=>this.onFocus()),ye(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Se(n,e,t){const{props:s}=n;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&C.postRender(()=>r(e,Xe(e)))}class zn extends P{mount(){const{current:e}=this.node;e&&(this.unmount=Xt(e,t=>(Se(this.node,t,"Start"),(s,{success:i})=>Se(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const q=new WeakMap,H=new WeakMap,$n=n=>{const e=q.get(n.target);e&&e(n)},qn=n=>{n.forEach($n)};function Yn({root:n,...e}){const t=n||document;H.has(t)||H.set(t,{});const s=H.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(qn,{root:n,...e})),s[i]}function Xn(n,e,t){const s=Yn(e);return q.set(n,t),s.observe(n),()=>{q.delete(n),s.unobserve(n)}}const Zn={some:0,all:1};class Jn extends P{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Zn[i]},c=l=>{const{isIntersecting:o}=l;if(this.isInView===o||(this.isInView=o,r&&!o&&this.hasEnteredView))return;o&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",o);const{onViewportEnter:a,onViewportLeave:d}=this.node.getProps(),h=o?a:d;h&&h(l)};return Xn(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Qn(e,t))&&this.startObserver()}unmount(){}}function Qn({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const es={inView:{Feature:Jn},tap:{Feature:zn},focus:{Feature:Wn},hover:{Feature:Hn}},Y={current:null},Je={current:!1};function ts(){if(Je.current=!0,!!St)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y.current=n.matches;n.addListener(e),e()}else Y.current=!1}const ns=[...We,S,R],ss=n=>ns.find(He(n)),we=new WeakMap;function is(n,e,t){for(const s in e){const i=e[s],r=t[s];if(A(i))n.addValue(s,i);else if(A(r))n.addValue(s,E(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=n.getStaticValue(s);n.addValue(s,E(u!==void 0?u:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const Ae=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rs{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xe,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=wt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,C.render(this.render,!1,!0))};const{latestValues:l,renderState:o,onUpdate:a}=u;this.onUpdate=a,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=o,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=At(t),this.isVariantNode=Tt(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&A(g)&&g.set(l[f],!1)}}mount(e){this.current=e,we.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),Je.current||ts(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){we.delete(this.current),this.projection&&this.projection.unmount(),le(this.notifyUpdate),le(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=K.has(e),i=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&C.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ce){const t=ce[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Ae.length;s++){const i=Ae[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,u=e[r];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=is(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=E(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(je(i)||ke(i))?i=parseFloat(i):!ss(i)&&R.test(t)&&(i=Ge(e,t)),this.setBaseTarget(e,A(i)?i.get():i)),A(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const u=Te(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(i=u[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!A(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ct),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Qe extends rs{constructor(){super(...arguments),this.KeyframeResolver=ze}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;A(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function os(n){return window.getComputedStyle(n)}class as extends Qe{constructor(){super(...arguments),this.type="html",this.renderInstance=Pt}readValueFromInstance(e,t){if(K.has(t)){const s=J(t);return s&&s.default||0}else{const s=os(e),i=(xt(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _n(e,t)}build(e,t,s){Mt(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Ft(e,t,s)}}class us extends Qe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(K.has(t)){const s=J(t);return s&&s.default||0}return t=Ot.has(t)?t:It(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Et(e,t,s)}build(e,t,s){Bt(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,i){Dt(e,t,s,i)}mount(e){this.isSVGTag=Rt(e.tagName),super.mount(e)}}const ls=(n,e)=>Kt(n)?new us(e):new as(e,{allowProjection:n!==Lt.Fragment}),cs={renderer:ls,...kn,...es};var ps=cs;export{ps as default};
